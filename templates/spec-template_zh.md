# 功能规格: [功能名称]

**功能分支**: `[###-功能名称]`  
**创建日期**: [日期]  
**状态**: 草稿  
**输入**: 用户描述: "$参数"

## 执行流程 (主流程)
```
1. 从输入中解析用户描述
   → 如果为空: 错误 "未提供功能描述"
2. 从描述中提取关键概念
   → 识别: 参与者, 操作, 数据, 约束
3. 对于每个不明确的方面:
   → 标记为 [需要澄清: 具体问题]
4. 填写用户场景与测试部分
   → 如果没有清晰的用户流程: 错误 "无法确定用户场景"
5. 生成功能需求
   → 每个需求必须是可测试的
   → 标记模糊的需求
6. 识别关键实体 (如果涉及数据)
7. 运行审查清单
   → 如果存在任何 [需要澄清]: 警告 "规格存在不确定性"
   → 如果发现实现细节: 错误 "请移除技术细节"
8. 返回: 成功 (规格已准备好进行规划)
```

---

## ⚡ 快速指南
- ✅ 关注用户需要**什么**以及**为什么**需要
- ❌ 避免**如何**实现 (不要涉及技术栈、API、代码结构)
- 👥 为业务相关者编写，而非开发者

### 章节要求
- **强制性章节**: 每个功能都必须完成
- **可选章节**: 仅在与功能相关时包含
- 当某个章节不适用时，请完全移除它 (不要留空或写 "不适用")

### AI 生成指南
当根据用户提示创建此规格时:
1. **标记所有模糊之处**: 对于任何你需要做的假设，使用 [需要澄清: 具体问题]
2. **不要猜测**: 如果提示没有明确说明某事 (例如，"登录系统" 但未指定认证方法)，请标记它
3. **像测试人员一样思考**: 每个模糊的需求都应该无法通过 "可测试且无歧义" 的清单项
4. **常见的未详细说明的领域**:
   - 用户类型和权限
   - 数据保留/删除策略  
   - 性能目标和规模
   - 错误处理行为
   - 集成需求
   - 安全/合规需求

---

## 用户场景与测试 *(强制性)*

### 主要用户故事
[用通俗易懂的语言描述主要的用户旅程]

### 验收场景
1. **假如** [初始状态], **当** [执行操作], **那么** [预期结果]
2. **假如** [初始状态], **当** [执行操作], **那么** [预期结果]

### 边界情况
- 当 [边界条件] 时会发生什么?
- 系统如何处理 [错误场景]?

## 需求 *(强制性)*

### 功能需求
- **FR-001**: 系统必须 [具体能力, 例如, "允许用户创建账户"]
- **FR-002**: 系统必须 [具体能力, 例如, "验证电子邮件地址"]  
- **FR-003**: 用户必须能够 [关键交互, 例如, "重置他们的密码"]
- **FR-004**: 系统必须 [数据需求, 例如, "持久化用户偏好"]
- **FR-005**: 系统必须 [行为, 例如, "记录所有安全事件"]

*标记不明确需求的示例:*
- **FR-006**: 系统必须通过 [需要澄清: 未指定认证方法 - 邮箱/密码, SSO, OAuth?] 来认证用户
- **FR-007**: 系统必须将用户数据保留 [需要澄清: 未指定保留期限]

### 关键实体 *(如果功能涉及数据则包含)*
- **[实体 1]**: [它代表什么, 关键属性，不涉及实现细节]
- **[实体 2]**: [它代表什么, 与其他实体的关系]

---

## 审查与验收清单
*门禁: 在 main() 执行期间运行自动检查*

### 内容质量
- [ ] 没有实现细节 (语言、框架、API)
- [ ] 专注于用户价值和业务需求
- [ ] 为非技术相关者编写
- [ ] 所有强制性章节已完成

### 需求完整性
- [ ] 不再有 [需要澄清] 标记
- [ ] 需求是可测试且无歧义的  
- [ ] 成功标准是可衡量的
- [ ] 范围有明确界定
- [ ] 依赖和假设已识别

---

## 执行状态
*由 main() 在处理过程中更新*

- [ ] 用户描述已解析
- [ ] 关键概念已提取
- [ ] 模糊之处已标记
- [ ] 用户场景已定义
- [ ] 需求已生成
- [ ] 实体已识别
- [ ] 审查清单已通过

---
